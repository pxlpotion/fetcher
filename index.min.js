(function(e){function n(e,n){for(var t in n){if(n.hasOwnProperty(t)){e[t]=e[t]||n[t]}}}function t(e){var n="";if(typeof e==="number"||typeof e==="string"){n="/"+e}else if(typeof e==="object"){n=[];for(var t in e){if(e.hasOwnProperty(t)){n.push(t+"="+e[t])}}n="?"+n.join("&")}return n}function r(e,r,o,s,i){o.method=e;o.headers=o.headers||{};o.credentials=o.credentials||"include";o.responseAs=o.responseAs&&["json","text","response"].indexOf(o.responseAs)>=0?o.responseAs:"json";n(o.headers,{Accept:"application/json","Content-Type":"application/json"});if(i){r+=t(i)}if(s){o.body=JSON.stringify(s)}else{delete o.body}return redrover.fetch(r,o).then(function(e){if(e.status>=200&&e.status<300){if(o.responseAs=="response"){return e}if(e.status==204){return null}return e[o.responseAs]()}var n=new Error(e.statusText);n.response=e;throw n})}function redrover(e,t){t=t||{};var o=function(r,o){r=e+"/"+r;o=o||{};n(o,t);return redrover(r,o)};o.get=function(n){return r("GET",e,t,null,n)};o.post=function(n){return r("POST",e,t,n)};o.put=function(n){return r("PUT",e,t,n)};o.patch=function(n){return r("PATCH",e,t,n)};o.delete=function(){return r("DELETE",e,t)};return o}redrover.fetch=typeof fetch!=="undefined"?fetch.bind(e):null;if(typeof exports==="object"){module.exports=redrover}else if(typeof define==="function"&&define.amd){define(function(){return redrover})}else{e.redrover=redrover}})(typeof window!="undefined"?window:undefined);
